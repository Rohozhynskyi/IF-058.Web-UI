<div entities-drct="timeTable">
<div class="timeTableList">
    <div class="wrapper panel panel-success no-border">
        <div class="panel-heading"><span class="glyphicon glyphicon-bookmark"></span> Розклад </div>
        <!-- The button and form to add Entity -->
        <div class="col-md-12">
            <div>
                <br/>
                <button class="btn btn-primary pull-right" ng-click="showAddForm()"><span
                        class="glyphicon glyphicon-plus"></span></button>
                <br/><br/><br/>

                <div class="well" ng-show="showingAdd">
                    <div class=" row">
                        <form name="addForm" class="form-inline" role='form' novalidate>
                            <div class="col-md-6">
                                <select class="form-control width-max"
                                        ng-options="key as value for (key, value) in entities.group"
                                        ng-model="newEntity.group_id"
                                        name="group"
                                        id="group"
                                        aria-describedby="helpGroup"
                                        tabindex="8"
                                        required>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <input type="date" class="form-control width-max"
                                       placeholder="Введіть дату тестування" ng-model="newEntity.date" required>
                            </div>

                            <div class="col-md-2">
                                <button type="submit" class="btn btn-success pull-right width-max"
                                        ng-disabled="addForm.$invalid" ng-click="addEntity()">Додати
                                </button>
                            </div>
                            <div class="col-md-2">
                                <button type="submit" class="btn btn-warning pull-right width-max"
                                        ng-disabled="!addForm.$dirty" ng-click="resetEntity()">Скинути
                                </button>
                            </div>
                        </form>
                    </div>
                </div>


                <div ng-show="!entities">{{noData}}</div>

                <!-- The table for list of Entities -->
                <table ng-show="entities" class="table table-hover .table-condensed">
                    <thead>
                    <tr>
                        <th>№</th>
                        <th>Група</th>
                        <!-- <th>Предмет</th>-->
                        <th>Дата</th>
                        <th class="usCenter">Дії</th>
                    </tr>
                    </thead>
                    <tbody >
                    <tr ng-if="entity != editingEntity" ng-repeat-start="entity in entities.list">
                        <!-- read-only cells -->
                        <td>{{$index + 1}}</td>
                        <td>{{entity.group_name}}</td>
                        <td>{{entity.event_date}}</td>
                        <td class="usCenter">
                            <button class="btn btn-info" ng-click="showEditForm(entity)">
                                <span class="glyphicon glyphicon-pencil"></span></button>
                            <button class="btn btn-danger col-md-offset-1" data-toggle="modal"
                                    data-target="#deleteModal" ng-click="activateEntity(entity)">
                                <span class="glyphicon glyphicon-trash"></span></button>
                        </td>
                    </tr>
                    <tr ng-if="entity == editingEntity" ng-repeat-end="">
                        <td>{{$index + 1}}</td>
                        <td><input class="form-control width-max" ng-model="editedEntity.new_group_name"></td>
                        <td><input type="date" class="form-control width-max" ng-model="editedEntity.new_date"></td>
                        <td class="usCenter col-md-2">
                            <button class="btn btn-success" ng-click="editEntity(entity)">
                                <span class="glyphicon glyphicon-ok"></span></button>
                            <button class="btn btn-warning col-md-offset-1" ng-click="showEditForm(entity)">
                                <span class="glyphicon glyphicon-remove"></span></button>
                        </td>
                    </tr>

                    </tbody>
                </table>

                <!-- The modal to confirm removing of Entity -->
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog"
                     aria-labelledby="mySmallModalLabel" id="deleteModal">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">Видалити запис?</h4>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal"
                                        ng-click="activateEntity()">Скасувати
                                </button>
                                <button type="button" class="btn btn-danger" ng-click="removeEntity()"
                                        data-dismiss="modal">Видалити
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
</div>