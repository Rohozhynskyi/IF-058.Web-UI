var app=angular.module("app",[]);app.factory("groupsSrvc",["$http",function(t){var r={},n="http://dtapi.local/group/";return r.getGroup=function(r){return t.get(n+"getRecords/"+r).then(function(t){return result=t.data,result},function(){console.error("Error")})},r.getGroups=function(){var r={};return t.get(n+"getRecords").then(function(n){return r.groups=n.data,t.get("http://dtapi.local/faculty/getRecords")},null).then(function(t){return r.faculty=t.data,r},null).then(function(t){var r=[],n=t.groups,e=t.faculty;for(row in e)r[+e[row].faculty_id]=e[row].faculty_name;for(row in n){var o=parseInt(n[row].faculty_id);n[row].faculty_name=r[o]}return n})},r.setGroup=function(r){return t.post(n+"update/2",r).then(function(t){return t.data.response})},r.delGroup=function(r){return t({method:"DELETE",url:n+"del/"+r}).then(function(t){return t.data.response})},r.createGroup=function(r){return t.post(n+"insertData",r).then(function(t){return t.data.response})},r}]),app.factory("facultySrvc",["$http",function(t){var r={},n="http://dtapi.local/faculty/";return r.getFaculties=function(){return t.get(n+"getRecords").success(function(t){return t}).error(function(t){console.log("error")})},r}]),app.controller("groupsCtrl",["$scope","groupsSrvc",function(t,r){r.getGroups().then(function(r){t.groups=r}),r.getGroup(5).then(function(r){t.group=r});r.delGroup(18).then(function(r){t.del=r})}]),app.controller("facultiesCtrl",["$scope","facultySrvc",function(t,r){r.getFaculties().then(function(r){t.faculties=r.data})}]);